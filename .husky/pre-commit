#!/usr/bin/env sh

echo "ğŸ” Running pre-commit checks..."

# æ£€æŸ¥ Python æ–‡ä»¶æ ¼å¼ï¼ˆä½¿ç”¨ blackï¼‰
if command -v black >/dev/null 2>&1; then
  echo "ğŸ–¤ Formatting check with black..."
  black --check .
else
  echo "âš ï¸  black not found. Install with: pip install black"
fi

# æ£€æŸ¥ä»£ç è§„èŒƒå’Œæ½œåœ¨é”™è¯¯ï¼ˆä½¿ç”¨ flake8ï¼‰
#if command -v flake8 >/dev/null 2>&1; then
#  echo "ğŸ§ª Linting with flake8..."
#  flake8 .
#else
#  echo "âš ï¸  flake8 not found. Install with: pip install flake8"
#fi

# å¦‚æœæ£€æŸ¥å¤±è´¥åˆ™ä¸­æ­¢æäº¤
if [ $? -ne 0 ]; then
  echo "âŒ Pre-commit checks failed. Please fix the issues before committing."
  exit 1
fi

echo "âœ… All checks passed! Proceeding with commit."
exit 0
